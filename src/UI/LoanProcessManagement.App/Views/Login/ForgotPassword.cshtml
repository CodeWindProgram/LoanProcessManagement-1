@model LoanProcessManagement.Application.Features.ForgotPassword.Commands.ForgotPassword.ForgotPasswordCommand

@{
    Layout = "~/Views/Shared/_Layout_Login.cshtml";
    ViewData["Title"] = "ForgotPassword";
}
<head>
    <link href="~/plugins/toastr/toastr.min.css" rel="stylesheet" />
</head>

<style>
    body {
        background: #eaeaea;
    }


    .form-signin {
        max-width: 330px;
        padding: 15px;
        margin: 0 auto;
        border: 1px solid #343a40;
        border-radius: 8px
    }

    .form-signin-heading {
        font-size: 20px;
        font-weight: 100;
    }

    .form-signin .form-signin-heading, .form-signin .checkbox {
        margin-bottom: 10px;
    }

    .form-signin .checkbox {
        font-weight: normal;
    }

    .form-signin .form-control {
        position: relative;
        font-size: 16px;
        height: auto;
        padding: 10px;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }

        .form-signin .form-control:focus {
            z-index: 2;
        }

    .form-signin input[type="text"] {
        margin-bottom: -1px;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    .form-signin input[type="password"] {
        margin-bottom: 10px;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    .forgot:hover {
        color: blue;
        text-decoration: none;
    }

    .forgot:hover {
        color: blue;
        text-decoration: none;
    }

    .note {
        font-weight: bold;
        padding-left: 10px;
    }

    @@media (max-width: 480px) {
        .box {
            top: 50%; /* IMPORTANT */
            left: 50%; /* IMPORTANT */
            display: block;
            position: absolute;
            width: 750px;
            height: 417px;
            margin-top: -208.5px; /* HALF OF THE HEIGHT */
            margin-left: -75px; /* HALF OF THE WIDTH */
        }
    }
</style>


<div class="container">
    <div class="form-signin well well-lg">
        <div style="text-align:center;">
            <img src="~/css/images/icon/OLD/forgotpassword.png" style="max-height: 70px; ">
        </div>
        <h2 class="form-signin-heading text-center">Forgot Password</h2>



        <form asp-action="ForgotPassword" method="post">

            <div class="form-group">
                <div class="row">
                    <div class="col-12">
                        @if (ViewBag.Issuccesflag == true)
                        {
                            <span class="text-success text-center pl-2 pr-2">@ViewBag.Message</span>
                        }
                        else
                        {
                            <span class="text-danger text-center pl-2 pr-2">@ViewBag.Message</span>
                        }
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-12">
                        <input asp-for="EmployeeId" ID="txtEmpId" placeholder="Enter Username" class="form-control " ClientIDMode="Static" autofocus
                               AutoCompleteType="Disabled">
                        <span asp-validation-for="EmployeeId" class="text-danger"></span>
                        <div style="height:10px;"></div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-12">
                        <div class="form-group d-flex justify-content-center">
                            <input type="submit" value="Submit" class="btn btn-block btn-defult-submit" />
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-12">
                        <center><a href="/" class="forgot">Back To Login</a></center>
                    </div>
                </div>
            </div>


        </form>


    </div>
</div>

<link href="~/plugins/toastr/toastr.min.css" rel="stylesheet" />
<script type="text/javascript">

    $(document).ready(function () {
        if ('@TempData["ForgetPasswordSuccess"]' == 'True') {
            toastr.success('@TempData["ForgetPasswordMessage"]', "Success");
            console.log("Toaster Raised Success")

        }
        else if ('@TempData["ForgetPasswordSuccess"]' == 'False') {
            toastr.error('@TempData["ForgetPasswordMessage"]', "Error");
            console.log("Toaster Raised Error")

        }
        console.log("Toaster Raised Outside");
    })

    var result = true;

    $("#EmployeeId").keyup(function () {
        var pswd = $(this).val();
        //validate the length
        if (pswd.length < 8) {
            $('#length').removeClass('valid').addClass('invalid');
            val = 0;
            result = false;

        } else {
            $('#length').removeClass('invalid').addClass('valid');
            val++;
            result = true;
        }

        //validate letter
        if (pswd.match(/[A-z]/)) {
            $('#letter').removeClass('invalid').addClass('valid');
            val++;
            result = true;
        } else {
            $('#letter').removeClass('valid').addClass('invalid');
            val = 0;
            result = false;
        }

        //validate capital letter
        if (pswd.match(/[A-Z]/)) {
            $('#capital').removeClass('invalid').addClass('valid');
            val++;
            result = true;
        } else {
            $('#capital').removeClass('valid').addClass('invalid');
            val = 0;
            result = false;
        }

        //validate number
        if (pswd.match(/\d/)) {
            $('#number').removeClass('invalid').addClass('valid');
            result = true;
            val++;

        } else {
            $('#number').removeClass('valid').addClass('invalid');
            val = 0;
            result = false;

        }

        //if (val >= 4) {
        //    $("#btnSubmit").removeAttr("disabled");
        //}
        //else {
        //    $("#btnSubmit").attr("disabled", "disabled");
        //}
    }).focus(function () {
        $('#pswd_info').show();
    }).blur(function () {
        $('#pswd_info').hide();
    });



</script>
