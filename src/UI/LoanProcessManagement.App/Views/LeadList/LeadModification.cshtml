@model LoanProcessManagement.App.Models.ModifyLeadVM
<link href="~/css/Common Css/Common1.css" rel="stylesheet" />
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "LeadModification";
}
<style>
    #button12:hover {
        background-color: #808080;
        color: white;
    }
</style>
<style>
    .error-msg {
        width: 100%;
        font-family: 'nobelregular';
        color: #ff0002;
        display: none;
        margin-left: 10px;
    }
</style>

<div class="container app" id="maindiv">
    <div class="col-sm-12 col-lg-12">
        <div data-effect="helix" id="panels" class="panel panel-info effect-helix in">
            <div class="panel-heading">
                <h5>Lead Modification</h5>
            </div>
            <div style="border-left: 1px solid #343a40; border-right: 1px solid #343a40; border-bottom-left-radius: 0.25rem; border-bottom-right-radius: 0.25rem; padding: 10px;" class="border">

                <div>
                    <div style="text-align:end;">
                        <label><span style="color: Red">&nbsp;All * marked fields are mandatory</span></label>
                    </div>
                </div>
                <form method="post" action="/leadlist/LeadModification">


                    <input type="hidden" asp-for="lead_Id" />
                    <input type="hidden" asp-for="login_id" />
                    <input type="hidden" asp-for="UserRoleId" id="userRole" />
                    <input type="hidden" asp-for="QueryStatus" id="QueryStatusHidden" />
                    <input type="hidden" asp-for="LgId" />
                    <input type="hidden" asp-for="HoQueryStatus" id="HoQueryStatusHidden" />

                    <div class="form-group ">
                        <div class="row">
                            <div class="col-lg-4 col-sm-12">
                                <label for="Form_No">Form No. <span style="color: Red">&nbsp;*</span></label>
                                <input type="text" class="form-control" asp-for="FormNo" readonly>
                            </div>
                            <div class="col-lg-4 col-sm-12">
                                <label for="status_lead">Status of Lead <span style="color:red;margin-left: 4px;font-size: 15px;">*</span></label>
                                <select id="status_lead" class="form-control" asp-for="CurrentStatus" asp-items="ViewBag.leadStatus">
                                    <option value="">Select</option>
                                </select>
                                <span asp-validation-for="CurrentStatus" class="text-danger"></span>
                            </div>
                            <div class="col-lg-4 col-sm-12">
                                <label for="residential_status">Residential Status </label>
                                <select id="residential_status" class="form-control" asp-for="ResidentialStatus">
                                    <option value="Resident Indian">Resident Indian</option>
                                    <option value="Non-Resident Indian">Non-Resident Indian</option>
                                </select>
                                <span asp-validation-for="ResidentialStatus" class="text-danger"></span>
                            </div>
                        </div>
                    </div>

                    <div id="leadQueryDiv" style="display:none">
                        <div class="col-lg-4 col-sm-12">
                            <label for="leadQuery" id="QueryText">Raise Query</label>
                            <div class="" id="divToggleSwitch">
                                <label class="switch">
                                    <input type="checkbox" id="chkQuery">
                                    <span class="slider round"></span>
                                </label>
                                <label id="lblSwitchName" class="label label-default" style="display: none;">Query Raised</label>
                            </div>
                        </div>
                    </div>

                    <div class="hoQueryDiv" style="display:none">
                        <div class="form-group " id="holeadQueryDiv">
                            <div class="row">
                                <div class="col-lg-4 col-sm-12">
                                    <label for="holeadQuery" id="hoLeadQueryText">Raise Query</label>
                                    <div class="" id="divToggleSwitch">
                                        <label class="switch">
                                            <input type="checkbox" id="chkHoQuery">
                                            <span class="slider round"></span>
                                        </label>
                                        <label id="hoLblSwitchName" class="label label-default" style="display: none;">Query Raised</label>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-sm-12" id="hoSanctionCommentDiv">
                                    <label>HO Sanction Query Comment</label>
                                    <input type="text" class="form-control" asp-for="HoSanction_query_comment" id="hoQueryInput">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="branchResponse" style="display:none">
                        @{
                            var displayBranchResponse = "display:none";
                            if (Model.HoSanction_query_comment != null)
                            {
                                displayBranchResponse = "display:block";
                            }
                        }
                        <div class="form-group row" style=@displayBranchResponse>
                            <div class="col-lg-4 col-sm-12">
                                <label>Branch Response</label>
                            </div>
                            <div class="col-lg-4 col-sm-12">
                                <select id="branchComment" class="form-control" asp-for="HoSanction_query_commentResponse" asp-items="ViewBag.resQueries">
                                    <option value="" selected="selected">select response</option>
                                
                                </select>
                            </div>
                        </div>
                    </div>

                        <div id="divQueryType" style="display:none">
                            <div class="form-group " id="div_IPSQueryType">
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>IPS Query - 1</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSQueryType" class="QueryType form-control" asp-for="IPSQueryType1" asp-items="ViewBag.reqQueries">
                                            <option value="">Select Query</option>
                                        </select>
                                        <span id="que" style="display:none" class="text-danger">Query is Required</span>

                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <button type="button" class="btn btn-primary btnForQuery" onclick="show_IPSQueryType_ForBtn('2','#ddl_IPSQueryType');"><i class="fas fa-plus"></i></button>

                           
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayProp2 = "display:none";
                                if (Model.IPSQueryType2 != null)
                                {
                                    displayProp2 = "display:block";
                                }
                            }
                            <div class="form-group " id="div_IPSQueryType2" style=@displayProp2>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>IPS Query - 2</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSQueryType2" class="QueryType form-control" asp-for="IPSQueryType2" asp-items="ViewBag.reqQueries">
                                            <option value="">Select Query</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <button type="button" class="btn btn-primary btnForQuery" onclick="show_IPSQueryType_ForBtn('3','#ddl_IPSQueryType2');"><i class="fas fa-plus"></i></button>
                                        <button type="button" class="btn btn-danger btnForQuery" onclick="remove_IPSQueryType_ForBtn('#div_IPSQueryType2','#ddl_IPSQueryType2');"><i class="fas fa-trash"></i></button>

                                    </div>
                                </div>
                            </div>
                            @{
                                var displayProp3 = "display:none";
                                if (Model.IPSQueryType3 != null)
                                {
                                    displayProp3 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSQueryType3" style=@displayProp3>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>IPS Query - 3</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSQueryType3" class="QueryType form-control" asp-for="IPSQueryType3" asp-items="ViewBag.reqQueries">
                                            <option value="">Select Query</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <button type="button" class="btn btn-primary btnForQuery" onclick="show_IPSQueryType_ForBtn('4','#ddl_IPSQueryType3');"><i class="fas fa-plus"></i></button>
                                        <button type="button"  class="btn btn-danger btnForQuery" onclick="remove_IPSQueryType_ForBtn('#div_IPSQueryType3','#ddl_IPSQueryType3');"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayProp4 = "display:none";
                                if (Model.IPSQueryType4 != null)
                                {
                                    displayProp4 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSQueryType4" style=@displayProp4>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>IPS Query - 4</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSQueryType4" class="QueryType form-control" asp-for="IPSQueryType4" asp-items="ViewBag.reqQueries">
                                            <option value="">Select Query</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <button type="button" id="btnAddMore4" class="btn btn-primary btnForQuery" onclick="show_IPSQueryType_ForBtn('5','#ddl_IPSQueryType4');"><i class="fas fa-plus"></i></button>
                                        <button type="button" class="btn btn-danger btnForQuery" onclick="remove_IPSQueryType_ForBtn('#div_IPSQueryType4','#ddl_IPSQueryType4');"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayProp5 = "display:none";
                                if (Model.IPSQueryType5 != null)
                                {
                                    displayProp5 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSQueryType5" style=@displayProp5>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>IPS Query - 5</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSQueryType5" class="QueryType form-control" asp-for="IPSQueryType5" asp-items="ViewBag.reqQueries">
                                            <option value="">Select Query</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <button type="button" class="btn btn-danger btnForQuery" onclick="remove_IPSQueryType_ForBtn('#div_IPSQueryType5','#ddl_IPSQueryType5');"><i class="fas fa-trash"></i></button>
                                    </div>
                                </div>
                            </div>

                        <div class="row" id="div_IPSQueryTypeComment" style="display: none;">
                            <div class="col-sm-3">
                                <label>Others</label>
                            </div>
                            <div class="col-sm-9">
                                <div class="input-control text">
                                    <textarea id="txt_IPSQueryType_Others" placeholder="Comments"></textarea>
                                </div>
                            </div>
                        </div>


                        <div id="divQueryResponseType" style="display:none;">
                            @{
                                var displayPropResponse1 = "display:none";
                                if (Model.IPSQueryType1 != null)
                                {
                                    displayPropResponse1 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSResponseType" style=@displayPropResponse1>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>Response to IPS Query - 1</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSResponsType" class="form-control" asp-for="IPSResponseType1" asp-items="ViewBag.resQueries">
                                            <option value="">Select Response</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayPropResponse2 = "display:none";
                                if (Model.IPSQueryType2 != null)
                                {
                                    displayPropResponse2 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSResponseType2" style=@displayPropResponse2>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>Response to IPS Query - 2</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSResponsType2" class="form-control" asp-for="IPSResponseType2" asp-items="ViewBag.resQueries">
                                            <option value="">Select Response</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayPropResponse3 = "display:none";
                                if (Model.IPSQueryType3 != null)
                                {
                                    displayPropResponse3 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSResponseType3" style=@displayPropResponse3>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>Response to IPS Query - 3</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSResponsType3" class="form-control" asp-for="IPSResponseType3" asp-items="ViewBag.resQueries">
                                            <option value="">Select Response</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayPropResponse4 = "display:none";
                                if (Model.IPSQueryType4 != null)
                                {
                                    displayPropResponse4 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSResponseType4" style=@displayPropResponse4>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>Response to IPS Query - 4</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSResponsType4" class="form-control" asp-for="IPSResponseType4" asp-items="ViewBag.resQueries">
                                            <option value="">Select Response</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            @{
                                var displayPropResponse5 = "display:none";
                                if (Model.IPSQueryType5 != null)
                                {
                                    displayPropResponse5 = "display:block";
                                }
                            }
                            <div class="form-group" id="div_IPSResponseType5" style=@displayPropResponse5>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                        <label>Response to IPS Query - 5</label>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                        <select id="ddl_IPSResponsType5" class="form-control" asp-for="IPSResponseType5" asp-items="ViewBag.resQueries">
                                            <option value="">Select Response</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr />
                    <h4><u><b>Loan Product</b></u></h4>


                    <div class="form-group row pt-3">
                        <div class="col-lg-4 col-sm-12">
                            <label for="property_purchase_loan">Product Name <span style="color:red;margin-left: 4px;font-size: 15px;">*</span></label>
                            <select id="property_purchase_loan" class="form-control" asp-for="LoanProductID" asp-items="ViewBag.loanProducts">
                                <option value="">Select</option>
                            </select>
                            <span asp-validation-for="LoanProductID" class="text-danger"></span>
                        </div>

                        <div class="col-lg-4 col-sm-12">
                            <label for="amount">Amount(in INR) <span style="color:red;margin-left: 4px;font-size: 15px;">*</span></label>
                            <input type="text" class="form-control amt" placeholder="Enter Amount" asp-for="loanAmount" maxlength="8">
                            <div><i style="color : red">(Note : Loan Amount Should be Greater than 1 Lakh and less than 5 Crore)</i></div>
                            <span asp-validation-for="loanAmount" class="text-danger"></span>
                        </div>
                    </div>


                    <hr />
                    <h4><u><b>Insurance Product</b></u></h4>
                    <div class="form-group row pt-3">
                        <div class="col-lg-4 col-sm-12">
                            <label for="property_purchase_insurance">Product Name</label>
                            <select id="property_purchase_insurance" class="form-control" asp-for="InsuranceProductID" asp-items="ViewBag.insuranceProducts">
                                <option value="">Select</option>
                            </select>
                        </div>
                        <div class="col-lg-4 col-sm-12">
                            <label for="amount_insurance">Amount(in INR)</label>

                            <input type="text" id="insuranceAmm" class="form-control amt" onkeyup="validate()" placeholder="Enter Amount" asp-for="insuranceAmount" maxlength="6">
                            <span asp-validation-for="insuranceAmount" class="text-danger"></span>
                            <p class="error-msg"></p>
                        </div>
                    </div>

                    <hr />
                    <h4><u><b>Date of Action</b></u></h4>


                    <div class="form-group row  pt-3">
                        <div class="col-lg-4 col-sm-12">
                            <label for="date">Date </label>
                            <input type="date" id="dates" class="form-control" asp-for="DateOfAction" readonly>
                        </div>
                        <div class="col-lg-4 col-sm-12">
                            <label for="comments">Comments</label>
                            <textarea placeholder="Comments" class="form-control" asp-for="Comments"></textarea>
                        </div>
                    </div>

                    <div class="rejectLead" style="display:none">
                        <div class="">
                            <h5><u><b>Reason for Reject Lead</b></u></h5>
                        </div>
                        <div class="form-group row pt-3">
                            <div class="col-lg-4 col-sm-12">
                                <label>Select Reason </label>
                                <select id="RejectReasonList" asp-for="RejectLeadReasonID" class="form-control" asp-items="ViewBag.rejectLeadReasonsList">
                                    <option value="">Select Reason</option>
                                </select>
                            </div>
                            <div class="col-lg-4 col-sm-12" id="rejectLeadComment" style="display:none">
                                <label>Comment : </label>
                                <textarea placeholder="Comments" class="form-control" asp-for="RejectedLeadComment"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="lostLead" style="display:none">
                        <div class="">
                            <h5><u><b>Reason for Lost Lead</b></u></h5>
                        </div>
                        <div class="form-group row pt-3">
                            <div class="col-lg-4 col-sm-12">
                                <label>Select Reason </label>
                                <select id="LostReasonList" class="form-control" asp-for="LostLeadReasonID" asp-items="ViewBag.lostLeadReasonsList">
                                    <option value="">Select Reason</option>
                                </select>
                            </div>

                            <div class="col-lg-4 col-sm-12" id="lostLeadComment" style="display:none">
                                <label>Comments</label>
                                <textarea placeholder="Comments" class="form-control" asp-for="LostLeadComment"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-row justify-content-end col-7">
                        <input id="button12" type="submit" value="Submit" onclick="validate()" class="btn btn-default-submit mr-2" />
                        <a id="cancelbutton" class="btn btn-danger" href="/LeadList/LeadSummary/@Model.lead_Id">Cancel</a>
                    </div>
                </form>
            </div>


        </div>
        @await Html.PartialAsync("~/Views/Shared/_Tabs.cshtml", (string)@ViewBag.lead_Id)
    </div>
</div>


<script type="text/javascript">

        function validate() {
            var Amount = $("#insuranceAmm").val();
            var prop = $("#property_purchase_insurance").val();
            if (Amount <= 0 && prop != 0) {
                $(".error-msg").html("Enter Valid Amount.").show();
                $("#button12").attr('disabled', 'disabled');
                return false;
            }
            else {
                $(".error-msg").html("").hide();
                $("#button12").removeAttr('disabled');
            }
        }

        var statusValue = $('#status_lead').val();

        $('#status_lead').change(function () {
            var currentStatusValue = $('#status_lead').val();
            if (currentStatusValue == 8) {
                $(".rejectLead").css("display", "block");
                $(".lostLead").css("display", "none");
                $("#LostReasonList").val(0);
                $("#lostLeadComment").val("");

            }
            else if (currentStatusValue == 11) {
                $(".lostLead").css("display", "block");
                $(".rejectLead").css("display", "none");
                $("#RejectReasonList").val(0);
                $("#rejectLeadComment").val("");

            }
            else {
                $(".rejectLead").css("display", "none");
                $(".lostLead").css("display", "none");

            }

        });

        $("#RejectReasonList").change(function () {
            var currentReason = $("#RejectReasonList").val();
            if (currentReason == 18) {
                $("#rejectLeadComment").css("display", "block");
            }
            else {
                $("#rejectLeadComment").css("display", "none");
            }
        })

        $("#LostReasonList").change(function () {
            var currentReason = $("#LostReasonList").val();
            if (currentReason == 12) {
                $("#lostLeadComment").css("display", "block");
            }
            else {
                $("#lostLeadComment").css("display", "none");
            }
        })

        if (statusValue == 8) {
            $(".rejectLead").css("display", "block");

        }
        else if (statusValue == 11) {
            $(".lostLead").css("display", "block");
        }



        $('.btn1').click(function (e) {
            $(".btn1").removeClass("selected");
            $(e.target).addClass("selected");
        });

        if (statusValue==7) {
            $(".hoQueryDiv").css("display", "block");

        }

          if (statusValue == 3) {
            $("#leadQueryDiv").css("display", "block");
            $("#divQueryType").css("display", "block");
          }
          if (statusValue == 8 || statusValue == 11 || statusValue == 10) {
              $('#status_lead option:not(:selected)').prop('disabled', true);
          }


        function show_IPSQueryType_ForBtn(QueryNumber,currenInputId){
            let divFormat = "#div_IPSQueryType";
            let divId = divFormat + QueryNumber;
            if ($(currenInputId).val() == "") {
                alert("Query is required");
            }
            else {
                $(divId).css("display", "block");
            }

        }

        function remove_IPSQueryType_ForBtn(id,QueryDropDown) {
            $(id).css("display", "none");
            $(QueryDropDown).val(null);
        }


    $("#ddl_IPSQueryType").change(function (e) {
        var currentRe = $("#ddl_IPSQueryType").val();
        console.log(currentRe);
        if (currentRe != "") {
            $("#que").css("display", "none");
        }
        else {
            $("#que").css("display", "block");

        }
    });

        $("#chkQuery").click(function (e) {
            var isChecked = $(this).is(":checked");
            var UserRole = $("#userRole").val();
            if (isChecked) {
                if (UserRole == 2) {
                    $("#lblSwitchName").css("display", "inline-block");
                    $("#QueryStatusHidden").val('Q');
                    $("#ddl_IPSQueryType").attr('required', true);
                    $("#que").css("display", "block");


                } else {
                    toastr.error('Only Ho can raise a query', "Error");
                    $("#chkQuery").prop("checked", false);
                }
            }
            else {
                if (UserRole == 3) {
                    $("#QueryStatusHidden").val('R');
                    $("#lblSwitchName").css("display", "none");
                }
                else {
                    toastr.error('Only Branch can resolve a query', "Error");
                    $("#chkQuery").prop("checked", true);

                }
            }
        })

        $("#chkHoQuery").click(function (e) {
            var isChecked = $(this).is(":checked");
            var UserRole = $("#userRole").val();
            if (isChecked) {
                if (UserRole == 2) {
                    $("#hoLblSwitchName").css("display", "inline-block");
                    $("#HoQueryStatusHidden").val('Q');

                } else {

                    toastr.error('Only Ho can raise a query', "Error");
                    $("#chkHoQuery").prop("checked", false);
                }
            }
            else {
                if (UserRole == 3) {
                    $("#HoQueryStatusHidden").val('R');
                    $("#hoLblSwitchName").css("display", "none");
                }
                else {

                    toastr.error('Only Branch can resolve a query', "Error");
                    $("#chkHoQuery").prop("checked", true);

                }
            }
        })


        if($("#userRole").val() == 3) {
            $("#divQueryResponseType").css("display", "block");
            $("#branchResponse").css("display", "block");
            $("#QueryText").text('Resolve Query');
            $("#hoLeadQueryText").text('Resolve Query');
            if ($("#QueryStatusHidden").val() == 'R') {
                $("#divQueryType").css("display", "none");
                if ($("#HoQueryStatusHidden").val() == 'R') {
                    $("#hoSanctionCommentDiv").css("display", "none");
                }

            }
            if ($("#HoQueryStatusHidden").val() == 'R') {
                $("#hoSanctionCommentDiv").css("display", "none");
                $("#branchResponse").css("display", "none");


            }

        }


        if($("#QueryStatusHidden").val() == 'Q') {
            $("#chkQuery").prop("checked", true);
            $("#lblSwitchName").css("display", "inline-block");
            $(".btnForQuery").css("display", "none");
            $(".QueryType").css("width", "100%");
            $('.QueryType option:not(:selected)').prop('disabled', true);

        }
        else if($("#QueryStatusHidden").val() == 'R') {
            $("#chkQuery").prop("checked", false);
        }

        if ($("#HoQueryStatusHidden").val() == 'Q') {
            $("#chkHoQuery").prop("checked", true);
            $("#hoLblSwitchName").css("display", "inline-block");
            $("#hoQueryInput").prop('disabled', true);

        }
        $(document).ready(function () {
        $("#anch_summary").addClass("selected");

    })
    if ('@Model.CurrentStatus' == '2' && ('@Model.UserRoleId'=='2' || '@Model.UserRoleId'=='3')) {
         $("#forBranch").css("display", "block");
     }
     if('@Model.CurrentStatus' == '5') {
         $("#ThirdPartyCheck").css("display", "inline-block");
     }


        $(".QueryType").change(function (e) {
            var element = $(e.target)
            var selectedVal = $(e.target).val();
            $(".QueryType").each(function (e) {
                if (!element.is($(this))) {
                    if ($(this).val() == selectedVal) {
                        alert("Query is already selected");
                        $(element).val("");
                    }
                }
         
            })
        })
    
    $(function () {
        $(".amt").keypress(function (e) {
            var keyCode = e.which;
            / 8 - (backspace), 32 - (space), 48-57 - (0-9) - Numbers /
            if ((keyCode != 8 || keyCode == 32) && (keyCode < 48 || keyCode > 57)) {
                return false;
            }
        });
    });
</script>
