@model LoanProcessManagement.App.Models.LeadITRDetailsVm

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    //ViewData["Title"] = "ITR Details Details";
}

<style>
    .tab {
        padding-left: 15px;
    }

    .AppTabs {
        display: inline-block;
        margin-right: 3px;
        padding: 5px 30px;
        background: #191970;
        color: #FFF;
    }

    .btn {
        width: inherit;
        justify-content: center;
    }

    .AppTabs:hover {
        background: #adb5bd;
        color: black;
    }

    .AppTabs:visited {
        text-decoration: none;
    }

    .selected {
        background: #0d7db5;
        color: #FFF;
    }

    .panel-heading {
        color: white;
        background-color: #343a40;
        border-bottom: 1px solid rgba(0,0,0,.125);
        padding: 0.75rem 1.25rem;
        position: relative;
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
    }
    .card {
        /*background-color:slategray;*/
        background: linear-gradient(to bottom, rgba(251,251,251,10) 0%,rgba(242,242,242,10) 100%);
        font-family: sans-serif;
        font-size: 18px;
        border: 1px solid;
        margin-top: 20px;
        margin-bottom: 20px;
    }
    h5 {
        font-size: 1.25rem;
        margin-left: 1rem;
        padding-top: 5px;
        font-weight: 600;
    }
    .btnDiv {
        text-align: center;
    }
    .formDiv {
        border: 1px solid #343a40;
        padding-bottom: 5px;
        padding-left: 1%;
        padding-right: 1%;
    }
</style>


<div style="margin-top: 20px" class="container">
    <div class="container app">
        <div class="col-sm-12 col-lg-12">
            <div data-effect="helix" id="panels" class="panel panel-info effect-helix in">
                <div class="panel-heading">
                    <h3>Add ITR Enquiry</h3>
                </div>
                <div class="formDiv">
                    <form method="post" action="/LeadITRDetails/index">
                        @*<input type="hidden" name="ctl00$ContentPlaceHolder1$hdnEmpId" id="hdnEmpId" value="">*@
                        <input type="hidden" asp-for="lead_Id" id="hdnLeadId">
                        <input type="hidden" asp-for="ApplicantType" id="hdnApplicantType">
                        <input type="hidden" asp-for="CreatedBy" value=@User.FindFirst("lg_id").Value />
                        <input type="hidden" asp-for="LastModifiedBy" value=@User.FindFirst("lg_id").Value />
                        <div style="height: 15px;"></div>
                        <div class="btnDiv">
                            <a href="/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=0" class="AppTabs btn-sm selected" id="tabProcess0" style="background: #adb5bd;">Applicant</a>
                            <a id="ContentPlaceHolder1_lnkCoApp1" class="AppTabs btn-sm" href="/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=1" style="background: #343a40;">Co-Applicant-1</a>
                            <a id="ContentPlaceHolder1_lnkCoApp2" class="AppTabs btn-sm" href="/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=2" style="background: #343a40;">Co-Applicant-2</a>
                            <a id="ContentPlaceHolder1_lnkCoApp3" class="AppTabs btn-sm" href="/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=3" style="background: #343a40;">Co-Applicant-3</a>
                            <a id="ContentPlaceHolder1_lnkCoApp4" class="AppTabs btn-sm" href="/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=4" style="background: #343a40;">Co-Applicant-4</a>
                            <a id="ContentPlaceHolder1_lnkCoApp5" class="AppTabs btn-sm" href="/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=5" style="background: #343a40;">Co-Applicant-5</a>
                        </div>
                        <div style="height: 10px;"></div>
                        <span id="ContentPlaceHolder1_spanMessage" style="color: red;"></span>
                        <div style="height: 10px;"></div>
                        <div class="frames">
                            <div class="panel-body">
                                @*@if (ViewBag.isSuccess == true)
                                {
                                    <div class="alert alert-success" role="alert">
                                        @ViewBag.Message
                                    </div>
                                }
                                else if (ViewBag.isSuccess == false)
                                {
                                    <div class="alert alert-danger" role="alert">
                                        <strong>Error!</strong> @ViewBag.Message
                                    </div>

                                }*@
                                <div id="ContentPlaceHolder1_alertMsg">
                                    <div class="row tab">
                                        <div class="col-md-5">
                                            <label class="h5">Form No</label>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="input-control text">
                                                <span id="ContentPlaceHolder1_lblFormNo" class="h5" style="color: black; border:none">
                                                    <label>@Model.FormNo</label>
                                                    <input type="hidden" asp-for="FormNo" />

                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display:flex;">
                                    <div class="col-md-4">

                                    </div>

                                </div>
                                <div style="height: 5px;"></div>

                                <div class="card initial1">
                                    <h5>Customer Details</h5>
                                </div>
                                <div style="width:100%; text-align:right;"><label><span style="color: Red">&nbsp;All * marked fields are mandatory</span></label></div>
                                <div style="height: 5px;"></div>
                                <div class="row tab">
                                    <div class="col-md-5">
                                        <label class="">Customer Name</label>

                                    </div>
                                    <div class="col-md-5">
                                        <div class="input-control text">
                                            @*<input asp-for="CustomerName" type="text" maxlength="26" id="ContentPlaceHolder1_txtCustomerName" class="form-control required" readonly style="pointer-events: none;">*@
                                            <label>@Model.CustomerName</label>

                                        </div>
                                    </div>
                                </div>

                                <div style="height: 5px;"></div>
                                <div class="row tab">
                                    <div class="col-md-5">
                                        <label class="">Customer Email</label>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="input-control text">
                                            @*<input asp-for="CustomerEmail" type="text" id="ContentPlaceHolder1_txtCustomerEmail" class="form-control" readonly style="pointer-events: none;">*@
                                            <label>@Model.CustomerEmail</label>
                                        </div>
                                    </div>
                                </div>

                                <div style="height: 5px;"></div>
                                <div class="row tab">
                                    <div class="col-md-5">
                                        <label class="">Customer Mobile</label>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="input-control text">
                                            @*<input asp-for="CustomerPhone" type="text" maxlength="10" id="ContentPlaceHolder1_txtCustomerMobile" class="form-control noTxtInput" readonly style="pointer-events: none;">*@
                                            <label>@Model.CustomerPhone</label>
                                            <span asp-validation-for="CustomerPhone" style="color:Red;display:block;"></span>

                                        </div>
                                    </div>
                                </div>

                                <div style="height: 5px;"></div>
                                <div class="row tab">
                                    <div class="col-md-5">
                                        <label class="">Employee Type</label>
                                    </div>
                                    <div class="col-md-5" id="selfEmployeeNode">
                                        <div class="input-control text">
                                            <input type="radio" id="selfEmployee" checked>
                                            <label for="selfEmployee">Self-Employee</label>
                                        </div>
                                    </div>
                                </div>

                                <div style="height: 5px;"></div>
                                <div class="row tab">
                                    <div class="col-md-5">
                                        <label class="">Consent</label>
                                    </div>
                                    <div class="col-md-5" id="consentNode">
                                        <div class="input-control text">
                                            <input type="checkbox" id="ConsentValue" checked>
                                            <label for="ConsentValue"> Yes </label><br>
                                            @*<span style="color:Red;display:block;"></span>*@
                                            @*<span id="ContentPlaceHolder1_RegularExpressionValidator3" style="color:Red;display:none;">Invalid Mobile No.</span>*@
                                        </div>
                                    </div>
                                </div>

                                <div style="height: 5px;"></div>
                                <div id="IdentificationDv">
                                    <div style="height: 5px;"></div>
                                    <div class="card initial1" id="divIdentification">
                                        <h5>ITR Details</h5>

                                    </div>
                                    <div style="height: 5px;"></div>
                                    <div class="row tab">
                                        <div class="col-md-5">
                                            <label class="">PAN</label>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="input-control text">
                                                @*<input asp-for="PanCardNo" type="text" maxlength="10" id="ContentPlaceHolder1_txtPAN" class="form-control" readonly style="pointer-events: none;">*@
                                                <label>@Model.PanCardNo</label>
                                            </div>
                                        </div>

                                    </div>

                                    <div style="height: 5px;"></div>
                                    <div class="row tab">
                                        <div class="col-md-5">
                                            <label class="">User Name</label>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="input-control text">
                                                @*<input asp-for="UserName" type="text" maxlength="10" id="ContentPlaceHolder1_txtPAN" class="form-control" readonly style="pointer-events: none;">*@
                                                <label>@Model.UserName</label>
                                            </div>
                                        </div>

                                    </div>

                                    <div style="height: 5px;"></div>
                                    <div class="row tab">
                                        <div class="col-md-5">
                                            <label class="" id="PasswordBoxLabel">Password</label>
                                            <span style="color: Red" id="FieldMark">&nbsp;*</span>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="input-control text">
                                                <input asp-for="Password" type="password" maxlength="20" id="PasswordBoxNode" class="form-control">
                                                <span asp-validation-for="Password" style="color:Red;display:block;"></span>
                                            </div>
                                        </div>

                                    </div>

                                </div>

                                <div id="accountDv">


                                    <br />
                                    <div class="row tab">
                                        <div class="col-md-12">
                                            <center>

                                                <input type="submit" name="ctl00$ContentPlaceHolder1$btnAddEnquiry" value="Submit" id="SubmitButton" class="btn" style="background-color: #343a40; color:white;">&nbsp

                                                <input type="submit" name="ctl00$ContentPlaceHolder1$btnExit" value="Exit" id="ContentPlaceHolder1_btnExit" class="btn btn-danger" asp-controller="Home" asp-action="Index">
                                            </center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {

        if ('@ViewBag.isSuccess' == 'True') {
            toastr.success('@ViewBag.Message', "Success");
        }
        else if ('@ViewBag.isSuccess' == 'False') {
            toastr.error('@ViewBag.Message', "Error");

        }



        if ('@ViewBag.isSuccess' == 'True') {

            setTimeout(function () {
                location.href = "/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=@Model.ApplicantType";
            }, 3000);
        }
        else if('@ViewBag.isSuccess' == 'False'){
             setTimeout(function () {
                 location.href = "/LeadITRDetails/Index?lead_Id=@Model.lead_Id&applicantType=@Model.ApplicantType";
             }, 1000);

        }
    });



    $(document).ready(function () {
        var applicant0 = document.getElementById("tabProcess0");
        var applicant1 = document.getElementById("ContentPlaceHolder1_lnkCoApp1");
        var applicant2 = document.getElementById("ContentPlaceHolder1_lnkCoApp2");
        var applicant3 = document.getElementById("ContentPlaceHolder1_lnkCoApp3");
        var applicant4 = document.getElementById("ContentPlaceHolder1_lnkCoApp4");
        var applicant5 = document.getElementById("ContentPlaceHolder1_lnkCoApp5");

         if (@Model.ApplicantType == 1) {
             applicant1.style.backgroundColor = "#adb5bd";
             applicant0.style.backgroundColor = "#343a40";
        }
        else if (@Model.ApplicantType == 2) {
             applicant2.style.backgroundColor = "#adb5bd";
             applicant0.style.backgroundColor = "#343a40";
         }
         else if (@Model.ApplicantType == 3) {
             applicant3.style.backgroundColor = "#adb5bd";
             applicant0.style.backgroundColor = "#343a40";
         }
         else if (@Model.ApplicantType == 4) {
             applicant4.style.backgroundColor = "#adb5bd";
             applicant0.style.backgroundColor = "#343a40";
         }
         else if (@Model.ApplicantType == 5) {
             applicant5.style.backgroundColor = "#adb5bd";
             applicant0.style.backgroundColor = "#343a40";
        }

    });

    @*$(document).ready(function () {
        var buttonNode = $('#SubmitButton');                                       //ContentPlaceHolder1_btnAddEnquiry
        if (@Model.IsSuccess) {
            setTimeout(function () {
                //buttonNode.prop('disabled', true);
                $("#SubmitButton").prop("disabled", true);
            }, 1000);
        }

        if (@Model.IsSuccess) {
            $("#SubmitButton").hide();
            $("#PasswordBoxNode").hide();
            $("#PasswordBoxLabel").hide();
        }
    });*@


    $(document).ready(function () {
        var button = document.getElementById("SubmitButton");
        var passwordBox = document.getElementById("PasswordBoxNode");
        var passwordLabel = document.getElementById("PasswordBoxLabel");
        debugger;
        if (@Model.IsSuccess.ToString().ToLower() == true) {
            $("#SubmitButton").attr("disabled", "disabled");
            $("#PasswordBoxNode").hide();
            $("#PasswordBoxLabel").hide();
            $("#FieldMark").hide();
        }
    });

    $(document).ready(function () {
        //var button = document.getElementById("SubmitButton");
        debugger;
        if (@Model.Succeeded.ToString().ToLower() == false) {
            $("#SubmitButton").attr("disabled", "disabled");
            $("#selfEmployeeNode").hide();
            $("#consentNode").hide();
            //$("#FieldMark").hide();
        }
    });
</script>